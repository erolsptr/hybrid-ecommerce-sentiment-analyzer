<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fikir Madencisi - Yorum Analiz AI</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- FontAwesome İkonları -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); min-height: 100vh; display: flex; align-items: center; justify-content: center; font-family: 'Segoe UI', sans-serif; }
        .main-card { background: white; padding: 3rem; border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.1); width: 100%; max-width: 850px; position: relative; }
        .brand-title { font-weight: 800; color: #2d3748; margin-bottom: 0.5rem; }
        .brand-subtitle { color: #718096; margin-bottom: 2.5rem; font-size: 1.1rem; }
        .form-control-lg { border-radius: 12px; padding: 1rem; border: 2px solid #e2e8f0; font-size: 1rem; }
        .form-control-lg:focus { border-color: #667eea; box-shadow: 0 0 0 3px rgba(102,126,234,0.1); }
        .btn-custom { padding: 12px 20px; border-radius: 12px; font-weight: 600; transition: transform 0.2s; border: none; flex: 1; }
        .btn-custom:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .btn-gemini { background: linear-gradient(90deg, #38b2ac 0%, #319795 100%); color: white; }
        .btn-bert { background: linear-gradient(90deg, #4299e1 0%, #3182ce 100%); color: white; }
        .btn-hybrid { background: linear-gradient(90deg, #9f7aea 0%, #805ad5 100%); color: white; }
        .history-link { position: absolute; top: 20px; right: 20px; text-decoration: none; color: #4a5568; font-weight: 600; padding: 8px 15px; background: #edf2f7; border-radius: 20px; transition: 0.2s; }
        .history-link:hover { background: #e2e8f0; }
        
        /* LOGO STİLLERİ GÜNCELLENDİ */
        .platform-logos { display: flex; justify-content: center; align-items: center; gap: 20px; margin-top: 2rem; }
        .platform-logos img { 
            height: 40px; /* Yükseklik sabitledik */
            width: auto; 
            object-fit: contain;
            opacity: 0.7; 
            filter: grayscale(100%); 
            transition: 0.3s; 
        }
        .platform-logos img:hover { opacity: 1; filter: grayscale(0%); transform: scale(1.1); }
        
        #loader { display: none; text-align: center; margin-top: 2rem; }
        .loading-text { margin-top: 1rem; color: #4a5568; font-weight: 500; }
    </style>
    <script>
        function showLoader() {
            document.getElementById('input-area').style.display = 'none';
            document.getElementById('loader').style.display = 'block';
            const texts = ["Ürün sayfasına bağlanılıyor...", "Yorumlar toplanıyor...", "Yapay zeka (BERT/Gemini) devrede...", "Analiz sonuçları hazırlanıyor..."];
            let i = 0;
            const textEl = document.getElementById('loading-text');
            setInterval(() => { i = (i + 1) % texts.length; textEl.innerText = texts[i]; }, 3500);
        }
    </script>
</head>
<body>
    <div class="main-card text-center">
        <a href="/gecmis" class="history-link"><i class="fas fa-history"></i> Geçmiş</a>
        
        <div class="mb-4">
            <i class="fas fa-brain fa-3x" style="color: #667eea;"></i>
        </div>
        <h1 class="brand-title">Fikir Madencisi</h1>
        <p class="brand-subtitle">Müşteri yorumlarını saniyeler içinde eyleme dönüştürülebilir içgörülere çevirin.</p>

        <div id="input-area">
            <form action="/analiz-et" method="post" onsubmit="showLoader()">
                <div class="mb-4">
                    <input type="text" name="url" class="form-control form-control-lg" placeholder="Trendyol veya N11 ürün linkini buraya yapıştırın..." required>
                </div>
                
                <div class="d-flex gap-3 flex-wrap">
                    <button type="submit" name="motor" value="gemini" class="btn btn-custom btn-gemini">
                        <i class="fas fa-bolt"></i> Hızlı Analiz (Gemini)
                    </button>
                    <button type="submit" name="motor" value="bert" class="btn btn-custom btn-bert">
                        <i class="fas fa-microchip"></i> Yerel Model (BERT)
                    </button>
                    <button type="submit" name="motor" value="hibrit" class="btn btn-custom btn-hybrid">
                        <i class="fas fa-rocket"></i> Hibrit Motor (Önerilen)
                    </button>
                </div>
            </form>

            <div class="platform-logos">
                <!-- Logolar artık 'static/images' klasöründen çekiliyor -->
                <!-- Eğer dosyaları indirmediysen geçici olarak boş kutu görünür -->
                <img src="{{ url_for('static', filename='images/trendyol.png') }}" alt="Trendyol" title="Trendyol Uyumlu">
                <img src="{{ url_for('static', filename='images/n11.png') }}" alt="N11" title="N11 Uyumlu">
            </div>
            
            <div class="mt-4">
                <a href="/topla" class="text-muted small text-decoration-none me-3">Veri Toplama Aracı</a>
                <a href="/etiketle" class="text-muted small text-decoration-none">Model Eğitme Aracı</a>
            </div>
        </div>

        <div id="loader">
            <div class="spinner-border text-primary" role="status" style="width: 3rem; height: 3rem;"></div>
            <p id="loading-text" class="loading-text">Analiz başlatılıyor...</p>
        </div>
    </div>
</body>
</html>